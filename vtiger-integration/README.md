QueueMetrics and VTigerCRM Integration add-on project
=====================================================

```
Project version: 1.0 
Runtime environment: LAMP with php zend json and HTTP pear libraries installed
Licence: "LGPL"
```
See the [changelog](CHANGELOG.md).

Project description
-------------------

This script integrates the QueueMetrics agent page with VTigerCRM.
When properly configured, the QueueMetrics agent call history page opens an external URL for each taken call. 
This feature could be used to call the provided PHP script. The script searches between contacts in the VTigerCRM, starting
from the calling number, and opens the call detail record, if present on VTigerCRM database, or preloads a new contact page with
the calling party number.


Requirements
------------
Apache + PHP (could be placed in the VTigerCRM webroot folder) + php zend json and HTTP pear libraries installed

Installing
----------
- Download php [zen json libraries](http://framework.zend.com/releases/ZendFramework-1.6.1/ZendFramework-1.6.1-minimal.zip)
and uncompress on a folder in your LAMP server
- Update the PHP shared library search path (add the zen json folder to the include_path key in the php.ini file)
- Install PHP Pear framework and type "pear install HTTP_Client" from a command line shell
- Copy the QueueMetrics_VTigerCRM.php script to the webroot folder
- Create a queuemetrics user on VTigerCRM, with permissions to look at contacts and retrieve the required _access key_ generated by VTigerCRM on the user page settings
- Customize the server_url, username, accessKey variables in the PHP script
- Configure QueueMetrics to open an external URL for each received call. The URL should contain the caller number as callid parameter


Usage istructions
-----------------
Each time a new call is shown in QueueMetrics agent page, the browser opens the VTigerCRM caller contact page. The first time
VTigerCRM requires authorization with valid agent credentials. 

Authors
-------
Marco Signorini


See also
--------

* [QueueMetrics home page](http://queuemetrics.com)
* [QueueMetrics support page](http://www.queuemetrics.com/manual_list.jsp) on Advanced Configuration Manual
